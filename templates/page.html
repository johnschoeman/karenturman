{% extends "_base.html" %}
{% block title %}
{{ page.title }} | {{ config.title }}
{% endblock title %}
{% block head %}

<!-- Primary Meta Tags -->
{% if page.description %}
{% set description = page.description %}
{%- elif page.summary %}
{% set description = page.summary %}
{% else %}
{% set description = page.content %}
{% endif %}

<meta name="description" content="{{ description | striptags | truncate(length=100) | safe }}" />

<!-- Open Graph / Facebook -->
<meta property="og:title" content="{{ page.title }} | {{ config.title }}" />
<meta property="og:type" content="article" />
<meta property="og:url" content="{{ page.permalink | safe }}" />
{% if page.date %}
<meta property="article:published_time" content="{{ page.date }}" />
<meta property="article:modified_time" content="{{ page.date }}" />
{% endif %}
<meta property="article:section" content="{{ page.components | first }}" />

{% endblock head %}
{% block page_heading %}
{%- if lang == config.default_language %}
{% set section_title = page.components[0] %}
{%- else %}
{% set section_title = page.components[1] %}
{%- endif -%}

<h1 class="title">
  <a href="{{ get_url(path=' @/_index.md', lang=lang) }}">{{ config.title }}</a>
</h1>
{% endblock page_heading %} {% block content %} {#
<pre style="
    font-size: xx-small;
    height: 50vh;
    overflow: auto;
    padding-top: 1em;
    padding-bottom: 1em;
    margin-top: 1em;
    margin-bottom: 1em;
    grid-column-start: 1;
    grid-column-end: -1;
    background-color: hsla(0, 0%, 90%, 1);
  ">
  <code>
    {{ __tera_context | escape }}
  </code>
</pre>
#}

<article class="content-article">
  <main class="article-content">
    <div class="article-intro-container">
      <div class="intro-header">
        <h1 class="heading">{{ page.title }}</h1>
        <div class="meta-line">
          {% if page.date %}
          <span class="date">{{ page.date | date(format="%b. %d, %Y") }}</span>
          {% endif %}

          {% if page.taxonomies.tags %}
          <span class="separator">/</span>
          <span class="tags">
            {% for tag in page.taxonomies.tags %}
            <a href="{{ get_taxonomy_url(kind=" tags", name=tag) }}">#{{ tag }}</a>
            {% endfor %}
          </span>
          {% endif %}
        </div>
      </div>

      <div class="intro-body">
        {% if page.description %}
        <div class="intro-abstract">
          <div class="abstract-title">ABSTRACT</div>
          <p class="description">{{ page.description }}</p>
        </div>
        {% endif %}

        {% if page.toc and page.extra.toc | default(value=true) %}
        <details class="intro-toc">
          <summary class="toc-title">CONTENTS</summary>
          <div class="toc-wrapper">
            <ul class="toc-list">
              <li class="toc-root">
                <a href="#" class="active-toc">{{ page.title }}</a>
                {% if page.toc %}
                <ul>
                  {% for h1 in page.toc %}
                  <li>
                    <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
                    {% if h1.children %}
                    <ul>
                      {% for h2 in h1.children %}
                      <li>
                        <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
                        {% if h2.children %}
                        <ul>
                          {% for h3 in h2.children %}
                          <li>
                            <a href="{{ h3.permalink | safe }}">{{ h3.title }}</a>
                          </li>
                          {% endfor %}
                        </ul>
                        {% endif %}
                      </li>
                      {% endfor %}
                    </ul>
                    {% endif %}
                  </li>
                  {% endfor %}
                </ul>
                {% endif %}
              </li>
            </ul>
          </div>
        </details>
        {% endif %}
      </div>
    </div>

    {{ page.content | safe }}
  </main>
  <section class="article-action-block">
    <!-- AddToAny BEGIN -->
    <div class="addtoany-block">
      <a href="https://www.addtoany.com/share#url={{ page.permalink }}&amp;title={{ page.title }}" target="_blank"
        rel="noopener noreferrer nofollow"><img class="button" src="https://static.addtoany.com/buttons/a2a.svg" /></a>
      <a href="https://www.addtoany.com/add_to/mastodon?linkurl={{ page.permalink }}&amp;linkname={{ page.title }}"
        target="_blank" rel="noopener noreferrer nofollow"><img class="button"
          src="https://static.addtoany.com/buttons/mastodon.svg" /></a>
      <a href="https://www.addtoany.com/add_to/telegram?linkurl={{ page.permalink }}&amp;linkname={{ page.title }}"
        target="_blank" rel="noopener noreferrer nofollow"><img class="button"
          src="https://static.addtoany.com/buttons/telegram.svg" /></a>
      <a href="https://www.addtoany.com/add_to/twitter?linkurl={{ page.permalink }}&amp;linkname={{ page.title }}"
        target="_blank" rel="noopener noreferrer nofollow"><img class="button"
          src="https://static.addtoany.com/buttons/twitter.svg" /></a>
      <a href="https://www.addtoany.com/add_to/facebook?linkurl={{ page.permalink }}&amp;linkname={{ page.title }}"
        target="_blank" rel="noopener noreferrer nofollow"><img class="button"
          src="https://static.addtoany.com/buttons/facebook.svg" /></a>
      <a href="https://www.addtoany.com/add_to/line?linkurl={{ page.permalink }}&amp;linkname={{ page.title }}"
        target="_blank" rel="noopener noreferrer nofollow"><img class="button"
          src="https://static.addtoany.com/buttons/line.svg" /></a>
    </div>
    <!-- AddToAny END -->

  </section>
  <br />
</article>
{% endblock content %}